<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Report feature group data — reporting • patRoon</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="Report feature group data — reporting" />

<meta property="og:description" content="Functionality to report data produced by most workflow steps such as
features, feature groups, calculated chemical formulae and tentatively
identified compounds." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">patRoon</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/tutorial.html">Tutorial</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/rickhelmus/patRoon">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Report feature group data</h1>
    <small class="dont-index">Source: <a href='https://github.com/rickhelmus/patRoon/blob/master/R/report.R'><code>R/report.R</code></a></small>
    <div class="hidden name"><code>reporting.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Functionality to report data produced by most workflow steps such as
features, feature groups, calculated chemical formulae and tentatively
identified compounds.</p>
    
    </div>

    <pre class="usage"><span class='co'># S4 method for featureGroups</span>
<span class='fu'>reportCSV</span>(<span class='no'>fGroups</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='st'>"report"</span>,
  <span class='kw'>reportFGroupsAsRows</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>reportFGroupsAnalysisInfo</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>reportFGroupsRetMz</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>reportFeatures</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>formConsensus</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>compounds</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>compoundNormalizeScores</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>compsCluster</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>components</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>retMin</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>clearPath</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># S4 method for featureGroups</span>
<span class='fu'>reportPDF</span>(<span class='no'>fGroups</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='st'>"report"</span>,
  <span class='kw'>reportFGroups</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>formConsensus</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>reportFormulaSpectra</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>compounds</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>compoundNormalizeScores</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>compsCluster</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>components</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>MSPeakLists</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>retMin</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>EICGrid</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>2</span>, <span class='fl'>1</span>), <span class='kw'>EICRtWindow</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>EICMzWindow</span> <span class='kw'>=</span> <span class='fl'>0.005</span>,
  <span class='kw'>EICTopMost</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>EICOnlyPresent</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>clearPath</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

<span class='co'># S4 method for featureGroups</span>
<span class='fu'>reportMD</span>(<span class='no'>fGroups</span>, <span class='kw'>path</span> <span class='kw'>=</span> <span class='st'>"report"</span>,
  <span class='kw'>reportPlots</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"chord"</span>, <span class='st'>"venn"</span>, <span class='st'>"upset"</span>, <span class='st'>"eics"</span>, <span class='st'>"formulas"</span>),
  <span class='kw'>formConsensus</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>compounds</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>compoundNormalizeScores</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>compsCluster</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>includeMFWebLinks</span> <span class='kw'>=</span> <span class='st'>"compounds"</span>, <span class='kw'>components</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>interactiveHeat</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>MSPeakLists</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>retMin</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>EICRtWindow</span> <span class='kw'>=</span> <span class='fl'>20</span>, <span class='kw'>EICMzWindow</span> <span class='kw'>=</span> <span class='fl'>0.005</span>, <span class='kw'>EICTopMost</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>EICOnlyPresent</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>selfContained</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>optimizePng</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>maxProcAmount</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/options'>getOption</a></span>(<span class='st'>"patRoon.maxProcAmount"</span>),
  <span class='kw'>clearPath</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>openReport</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>fGroups</th>
      <td><p>The <code><a href='featureGroups-class.html'>featureGroups</a></code> object that should be used for
reporting data.</p></td>
    </tr>
    <tr>
      <th>path</th>
      <td><p>The destination file path for files generated during reporting.
Will be generated if needed.</p></td>
    </tr>
    <tr>
      <th>reportFGroupsAsRows</th>
      <td><p>Report feature groups as rows (instead of columns)
within the resulting <code class="file">.csv</code> file.</p></td>
    </tr>
    <tr>
      <th>reportFGroupsAnalysisInfo</th>
      <td><p>Include analyses information (reference and
replicate groups) in the reported feature groups table <code class="file">.csv</code> file.</p></td>
    </tr>
    <tr>
      <th>reportFGroupsRetMz</th>
      <td><p>Include feature group information (retention time
and <em>m/z</em>) within the reported feature groups table <code class="file">.csv</code> file.</p></td>
    </tr>
    <tr>
      <th>reportFeatures</th>
      <td><p>If set to <code>TRUE</code> then for each analysis a
<code class="file">.csv</code> file will be generated with information about its detected
features.</p></td>
    </tr>
    <tr>
      <th>formConsensus, compounds, compsCluster, components</th>
      <td><p>Further objects
(<code><a href='formulaConsensus-class.html'>formulaConsensus</a></code>, <code><a href='compounds-class.html'>compounds</a></code>,
<code><a href='compoundsCluster-class.html'>compoundsCluster</a></code>, <code><a href='components-class.html'>components</a></code>) that should be
reported. Specify <code>NULL</code> to skip reporting a particular object.</p></td>
    </tr>
    <tr>
      <th>compoundNormalizeScores</th>
      <td><p>If <code>TRUE</code> compound identification scores
will be normalized to maximum values.</p></td>
    </tr>
    <tr>
      <th>retMin</th>
      <td><p>If <code>TRUE</code> then report retention times in minutes
(otehrwise seconds).</p></td>
    </tr>
    <tr>
      <th>clearPath</th>
      <td><p>If <code>TRUE</code> then the destination path will be
(recursively) removed prior to reporting.</p></td>
    </tr>
    <tr>
      <th>reportFGroups</th>
      <td><p>If <code>TRUE</code> then feature group data will be reported.</p></td>
    </tr>
    <tr>
      <th>reportFormulaSpectra</th>
      <td><p>If <code>TRUE</code> then explained MS/MS spectra (if
available) for candidate formulae will be reported. Specifying
<code>formConsensus</code> and setting this argument to <code>FALSE</code> still allows
further annotation of compound MS/MS spectra.</p></td>
    </tr>
    <tr>
      <th>MSPeakLists</th>
      <td><p>A <code><a href='MSPeakLists-class.html'>MSPeakLists</a></code> object that is
<em>mandatory</em> when spectra for formulae and/or compounds will be
reported.</p></td>
    </tr>
    <tr>
      <th>EICGrid</th>
      <td><p>An integer vector in the form <code><a href='https://www.rdocumentation.org/packages/base/topics/c'>c(columns, rows)</a></code> that is
used to determine the plotting grid when reporting EICs in PDF files.</p></td>
    </tr>
    <tr>
      <th>EICRtWindow, EICMzWindow, EICTopMost, EICOnlyPresent</th>
      <td><p>Plotting parameters
passed to <code><a href='generics.html'>plotEIC</a></code> (<em>i.e.</em> <code>rtWindow</code>,
<code>mzWindow</code>, <code>topMost</code> and <code>onlyPresent</code> arguments).</p></td>
    </tr>
    <tr>
      <th>reportPlots</th>
      <td><p>A character vector specifying what should be plotted.
Valid options are: <code>"chord"</code>, <code>"venn"</code>, <code>"upset"</code> (plot a
chord, Venn and UpSet diagram, respectively), <code>"eics"</code> (plot EICs for
individual feature groups) and <code>"formulas"</code> (plot annotated formula
spectra). Set to <code>"none"</code> to plot none of these.</p></td>
    </tr>
    <tr>
      <th>includeMFWebLinks</th>
      <td><p>A <code>character</code> specifying to which feature
groups a web link should be added in the annotation page to
<a href='https://msbi.ipb-halle.de/MetFragBeta/index.xhtml'>MetFragWeb</a>.
Options are: <code>"compounds"</code> (only to those with compounds results),
<code>"MSMS"</code> (only to those with MSMS peak lists) or <code>"none"</code>.</p></td>
    </tr>
    <tr>
      <th>interactiveHeat</th>
      <td><p>If <code>TRUE</code> an interactive heatmap HTML widget will
be generated to display hierarchical clustering results. Set to
<code>FALSE</code> for a 'regular' static plot.</p></td>
    </tr>
    <tr>
      <th>selfContained</th>
      <td><p>If <code>TRUE</code> the output will be a standalone HTML file
which contains all graphics and script dependencies. When <code>FALSE</code>, the
latter will be placed in an additional directory (<code class="file">report_files</code>)
which should remain present when viewing the output file. Especially on
Windows, a non-self contained output might be desirable when reporting
large amounts of data to prevent <code class='command'>pandoc</code> from running out of
memory.</p></td>
    </tr>
    <tr>
      <th>optimizePng</th>
      <td><p>If <code>TRUE</code> then <code class='command'>pngquant</code> is used to reduce
the size of generated graphics. A signficant reduction in disk space usage
may be seen, however, at the cost additional processing time.</p></td>
    </tr>
    <tr>
      <th>maxProcAmount</th>
      <td><p>Maximum amount of <code class='command'>pngquant</code> commands to run in
parallel. Higher numbers will decrease processing time, with an optimum
usually close to the amount of CPU cores.</p></td>
    </tr>
    <tr>
      <th>openReport</th>
      <td><p>If set to <code>TRUE</code> then the output report file will be
opened with the system browser.</p></td>
    </tr>
    <tr>
      <th>reportChord</th>
      <td><p>If <code>TRUE</code> then a chord diagram for all feature groups
is plotted (data will be averaged among replicates).</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>These functions are usually called at the very end of the workflow. It is
used to report various data on features and feature groups. In addition,
these functions may be used for reporting formulae and/or compounds that were
generated for the specified feature groups. Data can be reported in tabular
form (<em>i.e.</em> <code class="file">.csv</code> files) by <code>reportCSV</code> or graphically by
<code>reportPDF</code> and <code>reportMD</code>. The latter functions will plot for
instance chromatograms and annotated mass spectra, which are useful to get a
graphical overview of results.</p>
<p>All functions have a wide variety of arguments that influence the reporting
process. Nevertheless, most parameters are optional and only required to be
given for fine tuning. In addition, only those objects (<em>e.g.</em> formulae,
compounds, clustering) that are desired to be reported need to be specified.</p>
<p><code>reportCSV</code> generates tabular data (<em>i.e.</em> <code class="file">.csv</code>
  files) for given data to be reported. This may also be useful to allow
  import by other tools for post processing.</p>
<p><code>reportPDF</code> will report graphical data (<em>e.g.</em>
  chromatograms and mass spectra) within PDF files. Compared
  to <code>reportMD</code> this function may be faster and yield smaller report
  files, however, its functionality is a bit more basic and generated data is
  more 'scattered' around.</p>
<p><code>reportMD</code> will report graphical data (<em>e.g.</em>
  chromatograms and mass spectra) and summary information in an easy
  browsable <code>HTML</code> file using rmarkdown, flexdashboard and
  knitr.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Any formulae and compounds for feature groups which are not present
  within <code>fGroups</code> (<em>i.e.</em> because it has been subset afterwards)
  will not be reported.</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Creating MetFrag landing page URLs based on code from
  <a href='https://github.com/Treutler/MetFamily'>MetFamily</a> R package. <br /><br />
  Yihui Xie (2015) Dynamic Documents with R and knitr. 2nd edition. Chapman and Hall/CRC. ISBN 978-1498716963 <br /><br /> Yihui Xie (2014) knitr: A Comprehensive Tool for Reproducible Research in R. In Victoria Stodden, Friedrich Leisch and Roger D. Peng, editors, Implementing Reproducible Computational Research. Chapman and Hall/CRC. ISBN 978-1466561595</p>
    

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>

      <li><a href="#note">Note</a></li>

      <li><a href="#references">References</a></li>
          </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Rick Helmus.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.2.0.9000.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

